<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MuskFlowers</title>
<link rel="stylesheet" href="style.css">
<script src="firebase-config.js"></script>
</head>
<body>
<script>
// Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
const user = JSON.parse(localStorage.getItem('user'));
if(!user) window.location.href = 'login.html';
</script>

<header>MuskFlowers</header>
<nav>
<a href="#products"><i class="fas fa-gift"></i> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
<a href="https://wa.me/+9647866041932" target="_blank"><i class="fab fa-whatsapp"></i> ÙˆØ§ØªØ³Ø§Ø¨</a>
<a href="https://www.instagram.com/musk_for_flowers" target="_blank"><i class="fab fa-instagram"></i> Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</a>
<div class="favorites-icon" id="showFavorites"><i class="fas fa-heart"></i>
  <span class="favorites-count" id="favoritesCount">0</span>
</div>
</nav>

<div class="container" id="products"></div>

<div class="favorites-popup" id="favoritesPopup">
<h3>Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª ğŸŒ¹</h3>
<div id="favoritesList"></div>
</div>

<div class="notification" id="notification"></div>

<footer>
<p>ØªÙˆØµÙŠÙ„ Ø¯Ø§Ø®Ù„ Ø¨ØºØ¯Ø§Ø¯ ÙÙ‚Ø·</p>
<p>Ø§Ù„Ø¯ÙØ¹ ÙƒØ§Ø´ Ø£Ùˆ <img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Zain_Logo.png" alt="Ø²ÙŠÙ† ÙƒØ§Ø´" style="height:20px;vertical-align:middle;"></p>
<p>Â© 2025 MuskFlowers</p>
</footer>

<script>
const whatsappNumber='+9647866041932';

const productsData=[
  {name:'Ø±ÙˆØ²', img:'https://i.imgur.com/yIpsrlf.jpeg'},
  {name:'Ø¨ÙŠØ¨ÙŠ Ø±ÙˆØ² Ùˆ ÙƒØ±ÙŠØ²', img:'https://i.imgur.com/J6Q2Khh.jpeg'},
  {name:'Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ¨Ù‡', img:'https://i.imgur.com/cD4tbfR.jpeg'},
  {name:'Ø¨Ø§Ù‚Ø§Øª Ø§Ù„ÙÙ„ÙˆØ³', img:'https://i.imgur.com/wNd3xmc.jpeg'},
  {name:'Ø¨ÙˆÙƒØ³Ø§Øª', img:'https://i.imgur.com/Abbrb5Z.jpeg'},
  {name:'Ø¨Ø§Ù‚Ø§Øª ÙƒØ±ÙŠØ³Ù…Ø³', img:'https://i.imgur.com/04PRp1B.jpeg'},
  {name:'Ø§Ù„ØªØ®Ø±Ø¬', img:'https://i.imgur.com/mWogvK5.jpeg'}
];

let favorites = [];

const productsContainer=document.getElementById('products');
const favoritesCount=document.getElementById('favoritesCount');
const favoritesPopup=document.getElementById('favoritesPopup');
const favoritesList=document.getElementById('favoritesList');
const notification=document.getElementById('notification');

function showNotification(msg){
  notification.textContent=msg;
  notification.style.display='block';
  setTimeout(()=>{notification.style.display='none';},2500);
}

function updateFavoritesCount(){
  favoritesCount.textContent=favorites.length;
}

function renderFavorites(){
  favoritesList.innerHTML='';
  favorites.forEach((prod,i)=>{
    const item=document.createElement('div');
    item.className='fav-item';
    item.innerHTML=`
      <img src="${prod.img}" alt="${prod.name}">
      <p>${prod.name}</p>
      <button onclick="removeFavorite(${i})">Ø­Ø°Ù</button>`;
    favoritesList.appendChild(item);
  });
}

function removeFavorite(index){
  favorites.splice(index,1);
  renderFavorites();
  updateFavoritesCount();
  renderProducts();
  showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª âŒ');
}

function toggleFavorite(prod){
  const exists=favorites.find(p=>p.name===prod.name);
  if(exists){
    favorites=favorites.filter(p=>p.name!==prod.name);
    showNotification('ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª âŒ');
  } else {
    favorites.push(prod);
    showNotification('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù…ÙØ¶Ù„Ø§Øª ğŸŒ¹');
  }
  renderFavorites();
  updateFavoritesCount();
  renderProducts();
}

function renderProducts(){
  productsContainer.innerHTML='';
  productsData.forEach(prod=>{
    const card=document.createElement('div');
    card.className='product-card';
    const isFav=favorites.find(p=>p.name===prod.name);
    card.innerHTML=`
      <i class="fas fa-heart favorite-btn ${isFav?'active':''}"></i>
      <img src="${prod.img}" alt="${prod.name}">
      <div class="product-info">
        <h3>${prod.name}</h3>
        <p class="small-text">Ø§Ù„ØªØºÙ„ÙŠÙ Ø­Ø³Ø¨ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
        <p>ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</p>
        <button class="btn-order">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
      </div>`;
    card.querySelector('.btn-order').addEventListener('click',()=>orderNow(prod.name));
    card.querySelector('.favorite-btn').addEventListener('click',()=>toggleFavorite(prod));
    productsContainer.appendChild(card);
  });
}

function orderNow(name){
  const msg=`Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ *${name}*`;
  showNotification(`ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø·Ù„Ø¨: ${name} ğŸ“²`);
  window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(msg)}`,'_blank');
}

renderProducts();
updateFavoritesCount();

document.getElementById('showFavorites').addEventListener('click',()=>{
  favoritesPopup.style.display=favoritesPopup.style.display==='block'?'none':'block';
});
</script>
</body>
</html>