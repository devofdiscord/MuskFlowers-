<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تسجيل الدخول - MuskFlowers</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
<script src="https://accounts.google.com/gsi/client" async defer></script>
<style>
body {
  font-family:'Cairo',sans-serif;
  margin:0; padding:0; direction:rtl; font-weight:700;
  background:linear-gradient(-45deg,#ff85a2,#ffb6c1,#ffd1dc,#ffe4e8);
  background-size:400% 400%; animation:gradientBG 20s ease infinite;
}
@keyframes gradientBG{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.login-container{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  height:100vh;
  text-align:center;
  color:#fff;
  text-shadow:2px 2px 10px rgba(0,0,0,0.3);
}
.login-container h1{
  font-size:48px;
  margin-bottom:40px;
}
.g_id_signin{
  margin-top:20px;
}
</style>
</head>
<body>
<div class="login-container">
  <h1>MuskFlowers</h1>
  <div id="g_id_onload"
       data-client_id="1089122338198-be1ukp1li5hgm2cq0u98e6r018a1aofo.apps.googleusercontent.com"
       data-login_uri="index.html"
       data-auto_prompt="false">
  </div>
  <div class="g_id_signin" data-type="standard"></div>
</div>

<script>
function handleCredentialResponse(response) {
    // حفظ بيانات المستخدم
    const payload = JSON.parse(atob(response.credential.split('.')[1]));
    localStorage.setItem('user', JSON.stringify(payload));
    // تحويل إلى الصفحة الرئيسية
    window.location.href = 'index.html';
}

window.onload = () => {
    google.accounts.id.initialize({
        client_id: "1089122338198-be1ukp1li5hgm2cq0u98e6r018a1aofo.apps.googleusercontent.com",
        callback: handleCredentialResponse
    });
    google.accounts.id.renderButton(
        document.querySelector(".g_id_signin"),
        { theme: "outline", size: "large", width: 240 }
    );
};
</script>
</body>
</html>
